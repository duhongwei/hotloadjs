<!Doctype html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>hotload example 01</title>
  <style>
  </style>
  <script src='/lib/client/hotload.js'></script>
  <script src='/lib/client/socket.js'></script>
  <script src='/lib/client/util.js'></script>

  <script src='/examples/js/config.js'></script>
  <script src="/examples/js/apple.js"></script>
</head>

<body>
  <h1>单个没有上下线模块热替换</h1>
  <p>苹果模块的信息</p>
  <p id='js-apple'></p>
  <h2>步骤</h2>
  <ol>
    <li>打开console</li>
    <li>点击“启动热替换”按钮，console输出</li>
    <li>
      <pre>
      connection open...
      [info] ready ,1th
      </pre>
    </li>
    <li>修改examples/js/applejs，把title修改为"big title",console输出（更新的时间和你的不一样）</li>
    <li>
      <pre>
      [apply]	/examples/js/apple.js 15:34:21 
      </pre>
    </li>
    <li>页面上的的苹果模块的信息变为 big apple</li>
    <li>多练习几次</li>
  </ol>
  
  <button id='js-start'>启动热替换</button>
  <script>
    require(['config', 'lego.socket', 'apple'], function (config, socket, apple) {

      document.getElementById('js-apple').innerHTML = apple.getTitle();

      document.getElementById('js-start').onclick = function () {
        socket.init(config);
      }
    });

  </script>
</body>

</html>